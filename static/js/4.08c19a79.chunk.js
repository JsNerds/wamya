(this["webpackJsonpsaasland-react"]=this["webpackJsonpsaasland-react"]||[]).push([[4],{1459:function(e,a,t){"use strict";t.d(a,"a",(function(){return b}));var c=t(6),n=t.n(c),l=t(5),r=t(13),s=t(0),m=t.n(s),o=t(15),i=t(1421),d=t(1460),u=t(1407),E=t(33),p=t(19);function b(e){var a,c=Object(E.g)();var b=function(){var e=Object(r.a)(n.a.mark((function e(a){var t,r,s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.a)("payments/remove/"+a,{},"DELETE");case 2:t=e.sent,r=Object(l.a)(t,1),(s=r[0])&&console.log(s),c.go(0);case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return m.a.createElement(s.Fragment,null,m.a.createElement(i.a,{className:"card-box mb-4"},m.a.createElement("div",{className:"card-header"},m.a.createElement("div",{className:"card-header--title"},m.a.createElement("h4",{className:"font-size-lg mb-0 py-2 font-weight-bold"},"Operations and Payments"))),m.a.createElement("div",{className:"card-body px-0 pt-2 pb-3"},m.a.createElement("table",{className:"table table-hover table-borderless table-alternate text-nowrap mb-0"},m.a.createElement("thead",null,m.a.createElement("tr",null,m.a.createElement("th",{className:"text-center"},"Customer"),m.a.createElement("th",{className:"text-center"},"Email"),m.a.createElement("th",{className:"text-center"},"Address"),m.a.createElement("th",{className:"text-center"},"Credit Card"),m.a.createElement("th",{className:"text-center"},"Card Type"),m.a.createElement("th",{className:"text-center"},"Expiration Date"),m.a.createElement("th",{className:"text-center"},"Amount"),m.a.createElement("th",{className:"text-right"},"Actions"),m.a.createElement("th",{className:"text-right"},"Totals"))),m.a.createElement("tbody",null,null===(a=e.payments)||void 0===a?void 0:a.map((function(e,a){return m.a.createElement("tr",{key:a},m.a.createElement("td",null,m.a.createElement("div",{className:"d-flex"},m.a.createElement(d.a,{className:"align-self-center mr-3"}),m.a.createElement("div",null,m.a.createElement("a",{href:"#/",className:"font-weight-bold text-black",title:"..."},e.NameOnCard)))),m.a.createElement("td",{className:"text-center"},m.a.createElement("span",{className:"font-weight-bold"},e.Email)),m.a.createElement("td",{className:"text-center"},m.a.createElement("span",{className:"font-weight-bold"},e.Address.City)),m.a.createElement("td",{className:"text-center"},m.a.createElement("span",{className:"font-weight-bold"}," **** **** **** ",e.creditCard)),m.a.createElement("td",{className:"text-center"},m.a.createElement("span",null,function(e){switch(e){case"mastercard":return m.a.createElement("img",{src:t(321),width:"60",height:"30",alt:"Mastercard"});case"visa":return m.a.createElement("img",{src:t(322),width:"60",height:"30",alt:"Mastercard"});case"discover":return m.a.createElement("img",{src:t(323),width:"80",height:"50",alt:"Mastercard"});default:return m.a.createElement("img",{src:"../../assets/images/mastercard.png"})}}(e.CardType))),Date.parse(e.ExpirationDate)>Date.now()?m.a.createElement("td",{className:"text-center"},m.a.createElement("div",{className:"badge badge-success px-4"},"unexpired")):m.a.createElement("td",{className:"text-center"},m.a.createElement("div",{className:"badge badge-danger px-4"},"Expired")),m.a.createElement("td",{className:"text-right"},m.a.createElement("div",{className:"d-flex align-items-center justify-content-end"},m.a.createElement("div",{className:"font-weight-bold font-size-lg pr-2"}," ",Math.round(e.Amount.toFixed(2)/100),"TND"))),m.a.createElement("td",{className:"text-center"},m.a.createElement(u.a,{size:"small",variant:"contained",color:"secondary",onClick:function(){return b(e._id)}},"Delete")))})),m.a.createElement("tr",null,m.a.createElement("td",null),m.a.createElement("td",{className:"text-center"}),m.a.createElement("td",{className:"text-center"}),m.a.createElement("td",{className:"text-center"}),m.a.createElement("td",{className:"text-center"}),m.a.createElement("td",{className:"text-center"}),m.a.createElement("td",{className:"text-center"}),m.a.createElement("td",{className:"text-center"}),m.a.createElement("td",{className:"text-right"},m.a.createElement("div",{className:"d-flex align-items-center justify-content-end"},m.a.createElement("div",{className:"font-weight-bold font-size-lg pr-2"}," ",function(){var a;return null===(a=e.payments)||void 0===a?void 0:a.reduce((function(e,a){return e+=a.Amount/100,console.log("total",e),e}),0)}()," TND"),m.a.createElement(o.a,{icon:["fas","arrow-up"],className:"font-size-sm opacity-5"})))))),m.a.createElement("div",{className:"divider mb-3"}),m.a.createElement("div",{className:"text-center"},m.a.createElement(u.a,{color:"primary"},m.a.createElement("span",{className:"btn-wrapper--label"},"View details"),m.a.createElement("span",{className:"btn-wrapper--icon"},m.a.createElement(o.a,{icon:["fas","chevron-right"]})))))))}},1460:function(e,a,t){"use strict";var c=t(2),n=t(9),l=t(0),r=t.n(l),s=(t(1),t(12)),m=t(144),o=t(206),i=t(96),d=t(17),u=t(1425),E=r.a.forwardRef((function(e,a){var t=e.autoFocus,l=e.checked,d=e.checkedIcon,E=e.classes,p=e.className,b=e.defaultChecked,h=e.disabled,N=e.icon,g=e.id,x=e.inputProps,v=e.inputRef,f=e.name,k=e.onBlur,y=e.onChange,w=e.onFocus,O=e.readOnly,C=e.required,j=e.tabIndex,z=e.type,F=e.value,P=Object(n.a)(e,["autoFocus","checked","checkedIcon","classes","className","defaultChecked","disabled","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"]),A=Object(o.a)({controlled:l,default:Boolean(b),name:"SwitchBase"}),I=Object(m.a)(A,2),B=I[0],D=I[1],T=Object(i.a)(),M=h;T&&"undefined"===typeof M&&(M=T.disabled);var H="checkbox"===z||"radio"===z;return r.a.createElement(u.a,Object(c.a)({component:"span",className:Object(s.a)(E.root,p,B&&E.checked,M&&E.disabled),disabled:M,tabIndex:null,role:void 0,onFocus:function(e){w&&w(e),T&&T.onFocus&&T.onFocus(e)},onBlur:function(e){k&&k(e),T&&T.onBlur&&T.onBlur(e)},ref:a},P),r.a.createElement("input",Object(c.a)({autoFocus:t,checked:l,defaultChecked:b,className:E.input,disabled:M,id:H&&g,name:f,onChange:function(e){var a=e.target.checked;D(a),y&&y(e,a)},readOnly:O,ref:v,required:C,tabIndex:j,type:z,value:F},x)),B?d:N)})),p=Object(d.a)({root:{padding:9},checked:{},disabled:{},input:{cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}},{name:"PrivateSwitchBase"})(E),b=t(203),h=Object(b.a)(r.a.createElement("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),N=Object(b.a)(r.a.createElement("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),g=t(47),x=Object(b.a)(r.a.createElement("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox"),v=t(24),f=r.a.createElement(N,null),k=r.a.createElement(h,null),y=r.a.createElement(x,null),w=r.a.forwardRef((function(e,a){var t=e.checkedIcon,l=void 0===t?f:t,m=e.classes,o=e.color,i=void 0===o?"secondary":o,d=e.icon,u=void 0===d?k:d,E=e.indeterminate,b=void 0!==E&&E,h=e.indeterminateIcon,N=void 0===h?y:h,g=e.inputProps,x=e.size,w=void 0===x?"medium":x,O=Object(n.a)(e,["checkedIcon","classes","color","icon","indeterminate","indeterminateIcon","inputProps","size"]);return r.a.createElement(p,Object(c.a)({type:"checkbox",classes:{root:Object(s.a)(m.root,m["color".concat(Object(v.a)(i))],b&&m.indeterminate),checked:m.checked,disabled:m.disabled},color:i,inputProps:Object(c.a)({"data-indeterminate":b},g),icon:r.a.cloneElement(b?N:u,{fontSize:"small"===w?"small":"default"}),checkedIcon:r.a.cloneElement(b?N:l,{fontSize:"small"===w?"small":"default"}),ref:a},O))}));a.a=Object(d.a)((function(e){return{root:{color:e.palette.text.secondary},checked:{},disabled:{},indeterminate:{},colorPrimary:{"&$checked":{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(g.c)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}},colorSecondary:{"&$checked":{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(g.c)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}}}}),{name:"MuiCheckbox"})(w)},1462:function(e,a,t){"use strict";t.d(a,"a",(function(){return E}));var c=t(0),n=t.n(c),l=t(1420),r=t(1421),s=t(1422),m=t(1413),o=t(1415),i=t(1423),d=t(1407),u=t(15);function E(e){function a(e){return e.reduce((function(a,t){return console.log("amount",e[0]),a+=(null===t||void 0===t?void 0:t.Amount)/100}),0)}return n.a.createElement(c.Fragment,null,n.a.createElement(l.a,{container:!0,spacing:4},n.a.createElement(l.a,{item:!0,xs:12,sm:6,md:4},n.a.createElement(r.a,{className:"mb-4"},n.a.createElement("img",{alt:"...",className:"card-img-top",src:"http://localhost:3000/public/uploads/"+e.customer.img}),n.a.createElement(s.a,{className:"p-3"},n.a.createElement("h5",{className:"card-title font-weight-bold font-size-lg"},e.customer.FirstName," ",e.customer.LastName),n.a.createElement("p",{className:"card-text"},n.a.createElement("strong",null,"Username : ")," ",e.customer.UserName),n.a.createElement("p",{className:"card-text"},n.a.createElement("strong",null,"Email : ")," ",e.customer.Email),n.a.createElement("p",{className:"card-text"},n.a.createElement("strong",null,"Phone Number : ")," ",e.customer.PhoneNumber),n.a.createElement("p",{className:"card-text"},n.a.createElement("strong",null,"Address : ")," ",n.a.createElement("br",null),"Street : ",e.customer.Adress.Street," ",n.a.createElement("br",null),"City : ",e.customer.Adress.City," ",n.a.createElement("br",null),"ZipCode : ",e.customer.Adress.ZipCode," ",n.a.createElement("br",null))))),n.a.createElement(l.a,{item:!0,xs:12,lg:6},n.a.createElement(r.a,{className:"card-box mb-4"},n.a.createElement("div",{className:"card-header"},n.a.createElement("div",{className:"card-header--title"},n.a.createElement("small",{className:"d-block text-uppercase mt-1"},"Progress"),n.a.createElement("b",null,"Customer Analytics")),n.a.createElement("div",{className:"card-header--actions"},n.a.createElement("div",{className:"badge badge-warning"},"Pending"))),n.a.createElement(m.a,null,n.a.createElement(o.a,{className:"d-block"},n.a.createElement("div",{className:"align-box-row"},n.a.createElement("div",{className:"flex-grow-1"},n.a.createElement(i.a,{color:"secondary",variant:"determinate",value:e.customer.payments.length})),n.a.createElement("div",{className:"line-height-sm text-center ml-4"},n.a.createElement("small",{className:"text-black-50 d-block text-uppercase"},"Number of Payments"),n.a.createElement("b",{className:"font-size-lg text-success"},n.a.createElement("small",{className:"pr-1 text-black-50"}),e.customer.payments.length)))),n.a.createElement(o.a,{className:"d-block"},n.a.createElement("div",{className:"align-box-row"},n.a.createElement("div",{className:"flex-grow-1"},n.a.createElement(i.a,{variant:"determinate",color:"primary",value:a(e.customer.payments)/10})),n.a.createElement("div",{className:"line-height-sm text-center ml-4"},n.a.createElement("small",{className:"text-black-50 d-block text-uppercase"},"Totals Amounts"),n.a.createElement("b",{className:"font-size-lg text-info"},n.a.createElement("small",{className:"text-black-50 pr-1"},"TND"),a(e.customer.payments))))),n.a.createElement(o.a,{className:"d-block"},n.a.createElement("div",{className:"align-box-row"},n.a.createElement("div",{className:"flex-grow-1"},n.a.createElement(i.a,{color:"primary",variant:"determinate",value:29})),n.a.createElement("div",{className:"line-height-sm text-center ml-4"},n.a.createElement("small",{className:"text-black-50 d-block text-uppercase"},"Totals"),n.a.createElement("b",{className:"font-size-lg text-danger"},n.a.createElement("small",{className:"text-black-50 pr-1"},"$"),"8,493")))),n.a.createElement(o.a,{className:"d-block"},n.a.createElement("div",{className:"align-box-row"},n.a.createElement("div",{className:"flex-grow-1"},n.a.createElement(i.a,{color:"secondary",variant:"determinate",value:38})),n.a.createElement("div",{className:"line-height-sm text-center ml-4"},n.a.createElement("small",{className:"text-black-50 d-block text-uppercase"},"Totals"),n.a.createElement("b",{className:"font-size-lg text-warning"},n.a.createElement("small",{className:"text-black-50 pr-1"},"$"),"2,594"))))),n.a.createElement("div",{className:"card-footer bg-light text-center"},n.a.createElement(d.a,{variant:"contained",color:"primary"},n.a.createElement("span",{className:"btn-wrapper--icon"},n.a.createElement(u.a,{icon:["far","question-circle"]})),n.a.createElement("span",{className:"btn-wrapper--label"},"Generate reports")))))))}},1465:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return d}));var c=t(5),n=t(0),l=t.n(n),r=t(181),s=t(1462),m=t(51),o=t(33),i=t(1459);function d(){var e=Object(o.i)().id,a=Object(m.a)("customers/"+e),t=Object(c.a)(a,3),d=t[0],u=(t[1],t[2],d);return l.a.createElement(n.Fragment,null,l.a.createElement(r.d,{titleHeading:"Customer Details",titleDescription:"the cusromer's details : his payments and informations"}),l.a.createElement(r.a,{sectionHeading:"Customer's informations"},u?l.a.createElement(l.a.Fragment,null,l.a.createElement(s.a,{customer:u}),l.a.createElement(i.a,{payments:d.payments})):l.a.createElement("p",null,"Product not found")))}}}]);
//# sourceMappingURL=4.08c19a79.chunk.js.map