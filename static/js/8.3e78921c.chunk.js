(this["webpackJsonpwamya-smart-delivery"]=this["webpackJsonpwamya-smart-delivery"]||[]).push([[8],{1433:function(e,t,a){"use strict";var n=a(0),c=a.n(n),r=a(1393),s=a(1394),l=a(1395),i=a(1387),m=a(172),o=a(247),u=a.n(o);function d(e){var t=[{name:"Payments",data:[0,e.customers.reduce((function(e,t){return e+=null===t||void 0===t?void 0:t.payments.length}),0)]},{name:"Deliveries",data:[0,e.customers.reduce((function(e,t){return e+=null===t||void 0===t?void 0:t.deliveries.length}),0)]}];return c.a.createElement(n.Fragment,null,c.a.createElement(u.a,{options:{xaxis:{categories:["debut","Now"]}},series:t,type:"area"}))}function f(e){var t;e.customers;return c.a.createElement(n.Fragment,null,c.a.createElement(r.a,{container:!0,spacing:4},c.a.createElement(r.a,{item:!0,xs:12,md:6},c.a.createElement(s.a,{className:"card-box mb-4"},c.a.createElement("div",{className:"card-header"},c.a.createElement("h4",{className:"font-size-lg mb-0 py-2 font-weight-bold"},"Informations")),c.a.createElement(l.a,{className:"p-3"},c.a.createElement("div",{className:"d-flex align-items-center justify-content-between p-3"},c.a.createElement("div",null,c.a.createElement("b",null,"Payments"),c.a.createElement("div",{className:"text-black-50"},"Number of customer's payments")),c.a.createElement("div",{className:"font-weight-bold text-danger font-size-xl"},e.customers.reduce((function(e,t){return e+=null===t||void 0===t?void 0:t.payments.length}),0))),c.a.createElement(i.a,null),c.a.createElement("div",{className:"d-flex align-items-center justify-content-between p-3"},c.a.createElement("div",null,c.a.createElement("b",null,"User"),c.a.createElement("div",{className:"text-black-50"},"Number of customers")),c.a.createElement("div",{className:"font-weight-bold text-success font-size-xl"},null===(t=e.customers)||void 0===t?void 0:t.length)),c.a.createElement(i.a,null),c.a.createElement("div",{className:"d-flex align-items-center justify-content-between p-3"},c.a.createElement("div",null,c.a.createElement("b",null,"Deliveries"),c.a.createElement("div",{className:"text-black-50"},"Number of customer's deliveries")),c.a.createElement("div",{className:"font-weight-bold text-warning font-size-xl"},e.customers.reduce((function(e,t){return e+=null===t||void 0===t?void 0:t.deliveries.length}),0)))))),c.a.createElement(r.a,{item:!0,xs:12,md:6},c.a.createElement(m.b,{sectionHeading:"Stats"},c.a.createElement(d,{customers:e.customers})))))}a.d(t,"a",(function(){return f}))},1439:function(e,t,a){"use strict";a.r(t);var n=a(6),c=a.n(n),r=a(10),s=a(5),l=a(0),i=a.n(l),m=a(15),o=a(1393),u=a(1394),d=a(1395),f=a(32),E=a(25),b=a.n(E);function v(e){var t=Object(l.useState)(!1),a=Object(s.a)(t,2),n=(a[0],a[1],Object(l.useState)(0)),c=Object(s.a)(n,2),r=c[0],m=c[1],o=function(){r<6?b.a.post("https://wamya-backend.herokuapp.com/delivery/startDelivery",{customer:"608da92e31963732ccb29c21",driver:"609036b4116dba478453eea2",package:[{Name:"yo wassup",dimension:{Length:20,Height:20,Width:20},type:"Dangerous",note:"hello sir",weight:20}],state:r,sourceAddress:{Street:"nahj saidi",City:"agba",ZipCode:5e3,Location:{Latitude:23,Longitude:50}},destinationAddress:{Street:"nahj saidi",City:"agba",ZipCode:5e3,Location:{Latitude:23,Longitude:50}},location:{Latitude:223,Longitude:50},CustomerModel:"customer"}).then((function(e){console.log(e),m(Math.floor(7*Math.random())-1)}),(function(e){console.log(e)})):m(Math.floor(6*Math.random()))};return Object(l.useEffect)((function(){var e=setInterval((function(){o()}),3e3);return function(){return clearInterval(e)}}),[r]),i.a.createElement("button",{type:"button",onClick:function(){o()}},"add Delivery")}function g(){Object(f.g)();var e=localStorage.getItem("username"),t=(localStorage.getItem("id"),localStorage.getItem("role"),Object(l.useState)(!1)),a=Object(s.a)(t,2),n=a[0],E=a[1],g=Object(l.useState)(!1),p=Object(s.a)(g,2),x=(p[0],p[1]),N=Object(l.useState)([]),h=Object(s.a)(N,2),w=h[0],y=h[1];Object(l.useEffect)((function(){x(null!==e)}));var j=function(){var e=Object(r.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.get("https://wamya-backend.herokuapp.com/delivery/").then((function(e){JSON.stringify(e.data)===JSON.stringify(w)?console.log("same"):(y(e.data),console.log(e.data),console.log(w))}));case 3:e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();Object(l.useEffect)((function(){j();var e=setInterval((function(){console.log("hi"),j()}),2e3);return function(){return clearInterval(e)}}),[]);return i.a.createElement(l.Fragment,null,i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("button",{type:"button",onClick:function(){E(!0)}}," start simulation"),i.a.createElement("button",{type:"button",onClick:function(){E(!1)}},"stop simulation"),1==n?i.a.createElement(v,{changeStarted:E}):null,i.a.createElement(o.a,{container:!0,spacing:4},i.a.createElement(o.a,{item:!0,xs:12,sm:6,md:3},i.a.createElement(u.a,{className:"card-box bg-premium-dark border-0 text-light mb-4"},i.a.createElement(d.a,{className:"p-3"},i.a.createElement("div",{className:"d-flex align-items-start"},i.a.createElement("div",{className:"font-weight-bold"},i.a.createElement("small",{className:"text-white-50 d-block mb-1 text-uppercase"},"New Deliveries"),i.a.createElement("span",{className:"font-size-xxl mt-1"},null===w||void 0===w?void 0:w.reduce((function(e,t){return 0===t.state&&(e+=1),e}),0))),i.a.createElement("div",{className:"ml-auto"},i.a.createElement("div",{className:"bg-white text-center text-success d-50 rounded-circle d-flex align-items-center justify-content-center"},i.a.createElement(m.a,{icon:["far","chart-bar"],className:"font-size-xl"})))),i.a.createElement("div",{className:"mt-3"},i.a.createElement(m.a,{icon:["fas","arrow-up"],className:"text-success mr-1"}),i.a.createElement("span",{className:"text-success pr-1"},((null===w||void 0===w?void 0:w.reduce((function(e,t){return 0===t.state&&(e+=1),e}),0))/w.length*100).toFixed(2)+"%"),i.a.createElement("span",{className:"text-white-50"},"increase"))))),i.a.createElement(o.a,{item:!0,xs:12,md:3},i.a.createElement(u.a,{className:"card-box bg-plum-plate text-light mb-4"},i.a.createElement(d.a,{className:"p-3"},i.a.createElement("div",{className:"d-flex align-items-start"},i.a.createElement("div",{className:"font-weight-bold"},i.a.createElement("small",{className:"text-white-50 d-block mb-1 text-uppercase"},"On Going Deliveries"),i.a.createElement("span",{className:"font-size-xxl mt-1"},null===w||void 0===w?void 0:w.reduce((function(e,t){return t.state>0&&t.state<4&&(e+=1),e}),0))),i.a.createElement("div",{className:"ml-auto"},i.a.createElement("div",{className:"bg-white text-center text-primary d-50 rounded-circle d-flex align-items-center justify-content-center"},i.a.createElement(m.a,{icon:["far","chart-bar"],className:"font-size-xl"})))),i.a.createElement("div",{className:"mt-3"},i.a.createElement(m.a,{icon:["fas","arrow-down"],className:"text-white mr-1"}),i.a.createElement("span",{className:"text-red px-1"},"15.4%"),i.a.createElement("span",{className:"text-white-50"},"More orders"))))),i.a.createElement(o.a,{item:!0,xs:12,sm:6,md:3},i.a.createElement(u.a,{className:"card-box bg-midnight-bloom text-light mb-4"},i.a.createElement(d.a,{className:"p-3"},i.a.createElement("div",{className:"d-flex align-items-start"},i.a.createElement("div",{className:"font-weight-bold"},i.a.createElement("small",{className:"text-white-50 d-block mb-1 text-uppercase"},"Finished Deliveries"),i.a.createElement("span",{className:"font-size-xxl mt-1"},null===w||void 0===w?void 0:w.reduce((function(e,t){return 4!==t.state&&5!==t.state||(e+=1),e}),0))),i.a.createElement("div",{className:"ml-auto"},i.a.createElement("div",{className:"bg-white text-center text-primary d-50 rounded-circle d-flex align-items-center justify-content-center"},i.a.createElement(m.a,{icon:["far","lightbulb"],className:"font-size-xl"})))),i.a.createElement("div",{className:"mt-3"},i.a.createElement(m.a,{icon:["fas","arrow-up"],className:"text-warning mr-1"}),i.a.createElement("span",{className:"text-warning pr-1"},"7.4%"),i.a.createElement("span",{className:"text-white-50"},"same as before"))))),i.a.createElement(o.a,{item:!0,xs:12,sm:6,md:3},i.a.createElement(u.a,{className:"card-box bg-premium-dark border-0 text-light mb-4"},i.a.createElement(d.a,{className:"p-3"},i.a.createElement("div",{className:"d-flex align-items-start"},i.a.createElement("div",{className:"font-weight-bold"},i.a.createElement("small",{className:"text-white-50 d-block mb-1 text-uppercase"},"Canceled Deliveries"),i.a.createElement("span",{className:"font-size-xxl mt-1"},null===w||void 0===w?void 0:w.reduce((function(e,t){return-1===t.state&&(e+=1),e}),0))),i.a.createElement("div",{className:"ml-auto"},i.a.createElement("div",{className:"bg-white text-center text-success d-50 rounded-circle d-flex align-items-center justify-content-center"},i.a.createElement(m.a,{icon:["far","chart-bar"],className:"font-size-xl"})))),i.a.createElement("div",{className:"mt-3"},i.a.createElement(m.a,{icon:["fas","arrow-up"],className:"text-success mr-1"}),i.a.createElement("span",{className:"text-success pr-1"},"15.4%"),i.a.createElement("span",{className:"text-white-50"},"increase this month")))))))}var p=a(172),x=a(1433);function N(){var e=Object(l.useState)([]),t=Object(s.a)(e,2),a=t[0],n=t[1],m=function(){var e=Object(r.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.get("https://wamya-backend.herokuapp.com/customers/").then((function(e){JSON.stringify(e.data)===JSON.stringify(a)?console.log("same"):(n(e.data),console.log(e.data),console.log(a))}));case 3:e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return Object(l.useEffect)((function(){m();var e=setInterval((function(){m()}),2e3);return function(){return clearInterval(e)}}),[]),i.a.createElement(l.Fragment,null,i.a.createElement(p.e,{titleHeading:"Wamya Dashboard",titleDescription:"Admin Template"}),i.a.createElement(g,null),i.a.createElement(x.a,{customers:a}))}a.d(t,"default",(function(){return N}))}}]);
//# sourceMappingURL=8.3e78921c.chunk.js.map