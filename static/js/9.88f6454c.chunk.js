(this["webpackJsonpwamya-smart-delivery"]=this["webpackJsonpwamya-smart-delivery"]||[]).push([[9],{1433:function(e,t,a){"use strict";var n=a(0),r=a.n(n),l=a(1393),c=a(1394),s=a(1395),m=a(1387),i=a(172),o=a(247),u=a.n(o);function d(e){var t=[{name:"Payments",data:[0,e.customers.reduce((function(e,t){return e+=null===t||void 0===t?void 0:t.payments.length}),0)]},{name:"Deliveries",data:[0,e.customers.reduce((function(e,t){return e+=null===t||void 0===t?void 0:t.deliveries.length}),0)]}];return r.a.createElement(n.Fragment,null,r.a.createElement(u.a,{options:{xaxis:{categories:["debut","Now"]}},series:t,type:"area"}))}function E(e){var t;e.customers;return r.a.createElement(n.Fragment,null,r.a.createElement(l.a,{container:!0,spacing:4},r.a.createElement(l.a,{item:!0,xs:12,md:6},r.a.createElement(c.a,{className:"card-box mb-4"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h4",{className:"font-size-lg mb-0 py-2 font-weight-bold"},"Informations")),r.a.createElement(s.a,{className:"p-3"},r.a.createElement("div",{className:"d-flex align-items-center justify-content-between p-3"},r.a.createElement("div",null,r.a.createElement("b",null,"Payments"),r.a.createElement("div",{className:"text-black-50"},"Number of customer's payments")),r.a.createElement("div",{className:"font-weight-bold text-danger font-size-xl"},e.customers.reduce((function(e,t){return e+=null===t||void 0===t?void 0:t.payments.length}),0))),r.a.createElement(m.a,null),r.a.createElement("div",{className:"d-flex align-items-center justify-content-between p-3"},r.a.createElement("div",null,r.a.createElement("b",null,"User"),r.a.createElement("div",{className:"text-black-50"},"Number of customers")),r.a.createElement("div",{className:"font-weight-bold text-success font-size-xl"},null===(t=e.customers)||void 0===t?void 0:t.length)),r.a.createElement(m.a,null),r.a.createElement("div",{className:"d-flex align-items-center justify-content-between p-3"},r.a.createElement("div",null,r.a.createElement("b",null,"Deliveries"),r.a.createElement("div",{className:"text-black-50"},"Number of customer's deliveries")),r.a.createElement("div",{className:"font-weight-bold text-warning font-size-xl"},e.customers.reduce((function(e,t){return e+=null===t||void 0===t?void 0:t.deliveries.length}),0)))))),r.a.createElement(l.a,{item:!0,xs:12,md:6},r.a.createElement(i.b,{sectionHeading:"Stats"},r.a.createElement(d,{customers:e.customers})))))}a.d(t,"a",(function(){return E}))},1442:function(e,t,a){"use strict";a.r(t);var n=a(6),r=a.n(n),l=a(10),c=a(5),s=a(0),m=a.n(s),i=a(172),o=a(15),u=a(1394),d=a(1417),E=a(1398),f=a(1395),v=a(1426),b=a(1380),p=a(1345),N=(a(282),a(18)),h=a(32);function g(e){var t,a=Object(h.g)(),n=function(){var e=Object(l.a)(r.a.mark((function e(t){var n,l,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.a)("customers/removeById/"+t,{},"DELETE");case 2:n=e.sent,l=Object(c.a)(n,1),(s=l[0])&&console.log(s),a.go(0);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){console.log(e.customers)}),[e.customers]),m.a.createElement(s.Fragment,null,m.a.createElement(u.a,{className:"card-box mb-4"},m.a.createElement("div",{className:"card-header"},m.a.createElement("div",{className:"card-header--title"},m.a.createElement("small",null,"Tables"),m.a.createElement("b",null,"Customers")),m.a.createElement(d.a,{className:"card-header--actions"},m.a.createElement(E.a,{size:"small",color:"primary",className:"text-primary",title:"View details"},m.a.createElement(o.a,{icon:["far","keyboard"],className:"font-size-lg"})))),m.a.createElement(f.a,{className:"p-0"},m.a.createElement("div",{className:"table-responsive"},m.a.createElement("table",{className:"table table-striped table-hover text-nowrap mb-0"},m.a.createElement("thead",{className:"thead-light"},m.a.createElement("tr",null,m.a.createElement("th",{style:{width:"40%"}},"Customer"),m.a.createElement("th",{className:"text-center"},"Email"),m.a.createElement("th",{className:"text-center"},"Address"),m.a.createElement("th",{className:"text-center"},"Phone Number"),m.a.createElement("th",{className:"text-center"},"Actions"),m.a.createElement("th",{className:"text-center"}))),m.a.createElement("tbody",null,null===(t=e.customers)||void 0===t?void 0:t.map((function(e,t){return m.a.createElement("tr",{key:t},m.a.createElement("td",null,m.a.createElement("div",{className:"d-flex align-items-center"},m.a.createElement(v.a,{alt:"...",src:"https://wamya-backend.herokuapp.com/public/uploads/"+e.img,className:"mr-2"}),m.a.createElement("div",null,m.a.createElement("a",{href:"#/",onClick:function(e){return e.preventDefault()},className:"font-weight-bold text-black",title:"..."},e.FirstName," ",e.LastName),m.a.createElement("span",{className:"text-black-50 d-block"},"CIN : ",e.Cin," | Username : ",e.UserName)))),m.a.createElement("td",{className:"text-center"},m.a.createElement("div",null,e.Email)),m.a.createElement("td",{className:"text-center"},m.a.createElement("div",null,e.Adress.Street,", ",e.Adress.City)),m.a.createElement("td",{className:"text-center"},m.a.createElement("div",null,e.PhoneNumber)),m.a.createElement("td",{className:"text-center"},m.a.createElement(b.a,{size:"small",variant:"contained",className:"mr-3",color:"primary",onClick:function(){return function(e){a.replace("/UpdateCustomer/"+e._id)}(e)}},"Update"),m.a.createElement(b.a,{size:"small",variant:"contained",color:"secondary",onClick:function(){return n(e._id)}},"Delete")),m.a.createElement("td",{className:"text-center"},m.a.createElement(p.a,{arrow:!0,title:"View Details"},m.a.createElement(E.a,{size:"small",variant:"outlined",color:"primary",onClick:function(){return t=e._id,void a.replace("/CustomerDetails/"+t);var t}},m.a.createElement(o.a,{icon:["fas","arrow-right"]})))))}))))))))}var x=a(1433),y=a(25),w=a.n(y);function k(){var e=Object(s.useState)([]),t=Object(c.a)(e,2),a=t[0],n=t[1],o=function(){var e=Object(l.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.a.get("https://wamya-backend.herokuapp.com/customers/").then((function(e){JSON.stringify(e.data)===JSON.stringify(a)?console.log("same"):(n(e.data),console.log(e.data),console.log(a))}));case 3:e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){o();var e=setInterval((function(){o()}),2e3);return function(){return clearInterval(e)}}),[]),m.a.createElement(s.Fragment,null,m.a.createElement(i.e,{titleHeading:"Customers",titleDescription:"Wonderful animated charts built with ApexCharts components."}),m.a.createElement(i.a,{sectionHeading:"Customers Table"},m.a.createElement(g,{customers:a}),m.a.createElement(x.a,{customers:a})))}a.d(t,"default",(function(){return k}))}}]);
//# sourceMappingURL=9.88f6454c.chunk.js.map