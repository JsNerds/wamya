(this["webpackJsonpwamya-smart-delivery"]=this["webpackJsonpwamya-smart-delivery"]||[]).push([[5],{1459:function(e,a,t){"use strict";t.d(a,"a",(function(){return b}));var c=t(6),l=t.n(c),n=t(5),r=t(13),s=t(0),m=t.n(s),i=t(15),o=t(1421),d=t(1460),u=t(1407),E=t(33),p=t(19);function b(e){var a,c=Object(E.g)();var b=function(){var e=Object(r.a)(l.a.mark((function e(a){var t,r,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.a)("payments/remove/"+a,{},"DELETE");case 2:t=e.sent,r=Object(n.a)(t,1),(s=r[0])&&console.log(s),c.go(0);case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return m.a.createElement(s.Fragment,null,m.a.createElement(o.a,{className:"card-box mb-4"},m.a.createElement("div",{className:"card-header"},m.a.createElement("div",{className:"card-header--title"},m.a.createElement("h4",{className:"font-size-lg mb-0 py-2 font-weight-bold"},"Operations and Payments"))),m.a.createElement("div",{className:"card-body px-0 pt-2 pb-3"},m.a.createElement("table",{className:"table table-hover table-borderless table-alternate text-nowrap mb-0"},m.a.createElement("thead",null,m.a.createElement("tr",null,m.a.createElement("th",{className:"text-center"},"Customer"),m.a.createElement("th",{className:"text-center"},"Email"),m.a.createElement("th",{className:"text-center"},"Address"),m.a.createElement("th",{className:"text-center"},"Credit Card"),m.a.createElement("th",{className:"text-center"},"Card Type"),m.a.createElement("th",{className:"text-center"},"Expiration Date"),m.a.createElement("th",{className:"text-center"},"Amount"),m.a.createElement("th",{className:"text-right"},"Actions"),m.a.createElement("th",{className:"text-right"},"Totals"))),m.a.createElement("tbody",null,null===(a=e.payments)||void 0===a?void 0:a.map((function(e,a){return m.a.createElement("tr",{key:a},m.a.createElement("td",null,m.a.createElement("div",{className:"d-flex"},m.a.createElement(d.a,{className:"align-self-center mr-3"}),m.a.createElement("div",null,m.a.createElement("a",{href:"#/",className:"font-weight-bold text-black",title:"..."},e.NameOnCard)))),m.a.createElement("td",{className:"text-center"},m.a.createElement("span",{className:"font-weight-bold"},e.Email)),m.a.createElement("td",{className:"text-center"},m.a.createElement("span",{className:"font-weight-bold"},e.Address.City)),m.a.createElement("td",{className:"text-center"},m.a.createElement("span",{className:"font-weight-bold"}," **** **** **** ",e.creditCard)),m.a.createElement("td",{className:"text-center"},m.a.createElement("span",null,function(e){switch(e){case"mastercard":return m.a.createElement("img",{src:t(321),width:"60",height:"30",alt:"Mastercard"});case"visa":return m.a.createElement("img",{src:t(322),width:"60",height:"30",alt:"Mastercard"});case"discover":return m.a.createElement("img",{src:t(323),width:"80",height:"50",alt:"Mastercard"});default:return m.a.createElement("img",{src:"../../assets/images/mastercard.png"})}}(e.CardType))),Date.parse(e.ExpirationDate)>Date.now()?m.a.createElement("td",{className:"text-center"},m.a.createElement("div",{className:"badge badge-success px-4"},"unexpired")):m.a.createElement("td",{className:"text-center"},m.a.createElement("div",{className:"badge badge-danger px-4"},"Expired")),m.a.createElement("td",{className:"text-right"},m.a.createElement("div",{className:"d-flex align-items-center justify-content-end"},m.a.createElement("div",{className:"font-weight-bold font-size-lg pr-2"}," ",Math.round(e.Amount.toFixed(2)/100),"TND"))),m.a.createElement("td",{className:"text-center"},m.a.createElement(u.a,{size:"small",variant:"contained",color:"secondary",onClick:function(){return b(e._id)}},"Delete")))})),m.a.createElement("tr",null,m.a.createElement("td",null),m.a.createElement("td",{className:"text-center"}),m.a.createElement("td",{className:"text-center"}),m.a.createElement("td",{className:"text-center"}),m.a.createElement("td",{className:"text-center"}),m.a.createElement("td",{className:"text-center"}),m.a.createElement("td",{className:"text-center"}),m.a.createElement("td",{className:"text-center"}),m.a.createElement("td",{className:"text-right"},m.a.createElement("div",{className:"d-flex align-items-center justify-content-end"},m.a.createElement("div",{className:"font-weight-bold font-size-lg pr-2"}," ",function(){var a;return null===(a=e.payments)||void 0===a?void 0:a.reduce((function(e,a){return e+=a.Amount/100,console.log("total",e),e}),0)}()," TND"),m.a.createElement(i.a,{icon:["fas","arrow-up"],className:"font-size-sm opacity-5"})))))),m.a.createElement("div",{className:"divider mb-3"}),m.a.createElement("div",{className:"text-center"},m.a.createElement(u.a,{color:"primary"},m.a.createElement("span",{className:"btn-wrapper--label"},"View details"),m.a.createElement("span",{className:"btn-wrapper--icon"},m.a.createElement(i.a,{icon:["fas","chevron-right"]})))))))}},1460:function(e,a,t){"use strict";var c=t(2),l=t(9),n=t(0),r=t.n(n),s=(t(1),t(12)),m=t(144),i=t(206),o=t(96),d=t(17),u=t(1425),E=r.a.forwardRef((function(e,a){var t=e.autoFocus,n=e.checked,d=e.checkedIcon,E=e.classes,p=e.className,b=e.defaultChecked,h=e.disabled,g=e.icon,N=e.id,v=e.inputProps,x=e.inputRef,f=e.name,k=e.onBlur,y=e.onChange,w=e.onFocus,O=e.readOnly,j=e.required,C=e.tabIndex,z=e.type,D=e.value,F=Object(l.a)(e,["autoFocus","checked","checkedIcon","classes","className","defaultChecked","disabled","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"]),P=Object(i.a)({controlled:n,default:Boolean(b),name:"SwitchBase"}),I=Object(m.a)(P,2),B=I[0],A=I[1],M=Object(o.a)(),H=h;M&&"undefined"===typeof H&&(H=M.disabled);var T="checkbox"===z||"radio"===z;return r.a.createElement(u.a,Object(c.a)({component:"span",className:Object(s.a)(E.root,p,B&&E.checked,H&&E.disabled),disabled:H,tabIndex:null,role:void 0,onFocus:function(e){w&&w(e),M&&M.onFocus&&M.onFocus(e)},onBlur:function(e){k&&k(e),M&&M.onBlur&&M.onBlur(e)},ref:a},F),r.a.createElement("input",Object(c.a)({autoFocus:t,checked:n,defaultChecked:b,className:E.input,disabled:H,id:T&&N,name:f,onChange:function(e){var a=e.target.checked;A(a),y&&y(e,a)},readOnly:O,ref:x,required:j,tabIndex:C,type:z,value:D},v)),B?d:g)})),p=Object(d.a)({root:{padding:9},checked:{},disabled:{},input:{cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}},{name:"PrivateSwitchBase"})(E),b=t(203),h=Object(b.a)(r.a.createElement("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),g=Object(b.a)(r.a.createElement("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),N=t(47),v=Object(b.a)(r.a.createElement("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox"),x=t(24),f=r.a.createElement(g,null),k=r.a.createElement(h,null),y=r.a.createElement(v,null),w=r.a.forwardRef((function(e,a){var t=e.checkedIcon,n=void 0===t?f:t,m=e.classes,i=e.color,o=void 0===i?"secondary":i,d=e.icon,u=void 0===d?k:d,E=e.indeterminate,b=void 0!==E&&E,h=e.indeterminateIcon,g=void 0===h?y:h,N=e.inputProps,v=e.size,w=void 0===v?"medium":v,O=Object(l.a)(e,["checkedIcon","classes","color","icon","indeterminate","indeterminateIcon","inputProps","size"]);return r.a.createElement(p,Object(c.a)({type:"checkbox",classes:{root:Object(s.a)(m.root,m["color".concat(Object(x.a)(o))],b&&m.indeterminate),checked:m.checked,disabled:m.disabled},color:o,inputProps:Object(c.a)({"data-indeterminate":b},N),icon:r.a.cloneElement(b?g:u,{fontSize:"small"===w?"small":"default"}),checkedIcon:r.a.cloneElement(b?g:n,{fontSize:"small"===w?"small":"default"}),ref:a},O))}));a.a=Object(d.a)((function(e){return{root:{color:e.palette.text.secondary},checked:{},disabled:{},indeterminate:{},colorPrimary:{"&$checked":{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(N.c)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}},colorSecondary:{"&$checked":{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(N.c)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}}}}),{name:"MuiCheckbox"})(w)},1478:function(e,a,t){"use strict";t.r(a);var c=t(5),l=t(0),n=t.n(l),r=t(181),s=t(1420),m=t(1421),i=t(1422),o=t(1413),d=t(1415),u=t(1423),E=t(1407),p=(t(15),t(193)),b=t.n(p),h=t(33);function g(e){var a=Object(h.g)();console.log("dm + "+e.dm),console.log("mile +"+e.mile);var t={size:30,value:e.mile.rating,edit:!1};console.log(t);return n.a.createElement(l.Fragment,null,n.a.createElement(s.a,{container:!0,spacing:4},n.a.createElement(s.a,{item:!0,xs:12,sm:6,md:4},n.a.createElement(m.a,{className:"mb-4"},n.a.createElement("img",{alt:"...",className:"card-img-top",src:"http://localhost:3000/public/uploads/"+e.dm.img}),n.a.createElement(i.a,{className:"p-3"},n.a.createElement("h5",{className:"card-title font-weight-bold font-size-lg"},e.dm.Fullname),n.a.createElement("p",{className:"card-text"},n.a.createElement("strong",null,"Username : ")," ",e.dm.Username,console.log(e.mile),console.log(e.dm)),n.a.createElement("p",{className:"card-text"},n.a.createElement("strong",null,"Email : ")," ",e.dm.Email),n.a.createElement("p",{className:"card-text"},n.a.createElement("strong",null,"Phone Number : ")," ",e.dm.Phone),n.a.createElement("p",{className:"card-text"},n.a.createElement("strong",null,"Address : ")," ",e.dm.address),n.a.createElement("p",{className:"card-text"},n.a.createElement("strong",null,"Gender : ")," ",e.dm.Gender),n.a.createElement("p",{className:"card-text"},n.a.createElement("strong",null,"Date of birth : "),e.dm.Date_birth.substring(0,10)),n.a.createElement("p",{className:"card-text"},n.a.createElement("strong",null,"Joined the : "),e.dm.createdAt.substring(0,10)," at",e.dm.createdAt.substring(11,16)),n.a.createElement("p",{className:"card-text"},n.a.createElement("strong",null,"Last update : "),e.dm.updatedAt.substring(0,10)," at",e.dm.updatedAt.substring(11,16))))),n.a.createElement(s.a,{item:!0,xs:12,lg:6},n.a.createElement(s.a,{item:!0,xs:16,lg:12},n.a.createElement(m.a,{className:"card-box mb-4"},n.a.createElement("div",{className:"card-header"},n.a.createElement("div",{className:"card-header--title"},n.a.createElement("b",null,"Licence"))),n.a.createElement(o.a,null,n.a.createElement(d.a,{className:"d-block"},n.a.createElement("img",{alt:"...",className:"card-img-top",src:e.dm.pdp}))))),n.a.createElement(m.a,{className:"card-box mb-4"},n.a.createElement("div",{className:"card-header"},n.a.createElement("div",{className:"card-header--title"},n.a.createElement("small",{className:"d-block text-uppercase mt-1"},"Progress"),n.a.createElement("b",null,"Milestones")),n.a.createElement("div",{className:"card-header--actions"},n.a.createElement("div",{className:"badge badge-warning"},"Pending"))),n.a.createElement(o.a,null,n.a.createElement(d.a,{className:"d-block"},n.a.createElement("div",{className:"align-box-row"},n.a.createElement("div",{className:"flex-grow-1"},n.a.createElement(u.a,{color:"secondary",variant:"determinate",value:e.mile.delivs})),n.a.createElement("div",{className:"line-height-sm text-center ml-4"},n.a.createElement("small",{className:"text-black-50 d-block text-uppercase"},"Number of Deliveries"),n.a.createElement("b",{className:"font-size-lg text-success"},n.a.createElement("small",{className:"pr-1 text-black-50"}),e.mile.delivs)))),n.a.createElement(d.a,{className:"d-block"},n.a.createElement("div",{className:"align-box-row"},n.a.createElement("div",{className:"flex-grow-1"},n.a.createElement(u.a,{variant:"determinate",color:"primary",value:e.mile.profit})),n.a.createElement("div",{className:"line-height-sm text-center ml-4"},n.a.createElement("small",{className:"text-black-50 d-block text-uppercase"},"Profit"),n.a.createElement("b",{className:"font-size-lg text-info"},e.mile.profit,n.a.createElement("small",{className:"text-black-50 pr-1"},"TND"))))),n.a.createElement(d.a,{className:"d-block"},n.a.createElement("div",{className:"align-box-row"},n.a.createElement("div",{className:"flex-grow-1"},n.a.createElement("b",{className:"font-size-lg text-warning"},n.a.createElement("small",{className:"text-black-50 pr-1"},"Rating"),e.mile.rating),n.a.createElement(b.a,t))))),n.a.createElement("div",{className:"card-footer bg-light text-center"},n.a.createElement(E.a,{variant:"contained",color:"primary",onClick:function(){return t=e.mile._id,void a.push("/Updatemille/"+t);var t}},n.a.createElement("span",{className:"btn-wrapper--label"},"Update")))))))}var N=t(51);t(1459);function v(){var e=Object(h.i)().id,a=(Object(h.i)().id1,Object(N.a)("deliveryman/getmileid/"+e)),t=Object(c.a)(a,3),s=t[0],m=(t[1],t[2],Object(N.a)("deliveryman/getdev/"+e)),i=Object(c.a)(m,3),o=i[0],d=(i[1],i[2],o),u=s;return console.log("dm:"+o),console.log("mile"+s),n.a.createElement(l.Fragment,null,n.a.createElement(r.d,{titleHeading:"Deliveryman Details",titleDescription:"the deliveryman's details : his deliveries and informations"}),n.a.createElement(r.a,{sectionHeading:"Deliveryman's informations"},d?n.a.createElement(n.a.Fragment,null,n.a.createElement(g,{dm:d,mile:u})):n.a.createElement("p",null,"Product not found")))}t.d(a,"default",(function(){return v}))}}]);
//# sourceMappingURL=5.b575f39e.chunk.js.map