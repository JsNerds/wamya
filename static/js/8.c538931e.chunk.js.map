{"version":3,"sources":["components/back/CustomerStat.js","components/back/CustomersTable.js","pages/back/Customers.js"],"names":["CustomerStat","props","container","spacing","item","xs","md","className","customers","length","CustomersTable","history","useHistory","deleteCustomer","id","a","queryServerApi","err","console","log","go","useEffect","Card","Box","IconButton","size","color","title","icon","CardContent","style","width","map","customer","index","key","Avatar","alt","src","process","img","href","onClick","e","preventDefault","FirstName","LastName","Cin","UserName","Email","Adress","Street","City","PhoneNumber","Button","variant","replace","_id","UpdateCustomer","Tooltip","arrow","Customers","useServerApi","titleHeading","titleDescription","sectionHeading"],"mappings":"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","file":"static/js/8.c538931e.chunk.js","sourcesContent":["import React, {Fragment, useEffect, useState} from 'react';\r\nimport { Grid, Avatar, Card, CardContent, Divider } from '@material-ui/core';\r\nimport {useServerApi} from \"../../hooks/useServerApi\";\r\n\r\n\r\n\r\n\r\n\r\nexport default function CustomerStat(props) {\r\n\r\n    return (\r\n        <Fragment>\r\n\r\n            <Grid container spacing={4}>\r\n                <Grid item xs={12} md={6}>\r\n                    <Card className=\"card-box mb-4\">\r\n                        <div className=\"card-header\">\r\n                            <h4 className=\"font-size-lg mb-0 py-2 font-weight-bold\">\r\n                                Statistics\r\n                            </h4>\r\n                        </div>\r\n                        <CardContent className=\"p-3\">\r\n                            <div className=\"d-flex align-items-center justify-content-between p-3\">\r\n                                <div>\r\n                                    <b>Reports</b>\r\n                                    <div className=\"text-black-50\">Monthly sales reports</div>\r\n                                </div>\r\n                                <div className=\"font-weight-bold text-danger font-size-xl\">\r\n                                    2363\r\n                                </div>\r\n                            </div>\r\n                            <Divider />\r\n                            <div className=\"d-flex align-items-center justify-content-between p-3\">\r\n                                <div>\r\n                                    <b>User</b>\r\n                                    <div className=\"text-black-50\">Visitors last week</div>\r\n                                </div>\r\n                                <div className=\"font-weight-bold text-success font-size-xl\">\r\n                                    {props.customers?.length}\r\n                                </div>\r\n                            </div>\r\n                            <Divider />\r\n                            <div className=\"d-flex align-items-center justify-content-between p-3\">\r\n                                <div>\r\n                                    <b>Sales</b>\r\n                                    <div className=\"text-black-50\">\r\n                                        Total average weekly report\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"font-weight-bold text-warning font-size-xl\">\r\n                                    483\r\n                                </div>\r\n                            </div>\r\n                        </CardContent>\r\n                    </Card>\r\n                </Grid>\r\n            </Grid>\r\n\r\n        </Fragment>\r\n    );\r\n}\r\n","import React, {Fragment, useEffect} from 'react';\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nimport {\r\n    Avatar,\r\n    IconButton,\r\n    Box,\r\n    Card,\r\n    CardContent, Button, Tooltip\r\n} from '@material-ui/core';\r\n\r\nimport avatar2 from '../../assets/images/avatars/avatar2.jpg';\r\nimport {queryServerApi} from \"../../utils/queryServerApi\";\r\nimport {useHistory} from \"react-router\";\r\n\r\nexport default function CustomersTable(props) {\r\n    const history = useHistory();\r\n\r\n    const UpdateCustomer= (customer) =>{\r\n        history.replace(\"/UpdateCustomer/\"+ customer._id)\r\n    }\r\n    const Details= (id) =>{\r\n        history.replace(\"/CustomerDetails/\"+ id)\r\n    }\r\n\r\n\r\n\r\n\r\n    const deleteCustomer = async (id) => {\r\n        const [err] = await queryServerApi(\"customers/removeById/\" + id, {}, \"DELETE\");\r\n        if (err) {\r\n            console.log(err);\r\n        } history.go(0);\r\n    };\r\n\r\n    useEffect(()=>{\r\n        console.log(props.customers);\r\n    },[props.customers])\r\n\r\n\r\n    return (\r\n        <Fragment>\r\n            <Card className=\"card-box mb-4\">\r\n                <div className=\"card-header\">\r\n                    <div className=\"card-header--title\">\r\n                        <small>Tables</small>\r\n                        <b>Customers</b>\r\n                    </div>\r\n                    <Box className=\"card-header--actions\">\r\n                        <IconButton\r\n                            size=\"small\"\r\n                            color=\"primary\"\r\n                            className=\"text-primary\"\r\n                            title=\"View details\">\r\n                            <FontAwesomeIcon\r\n                                icon={['far', 'keyboard']}\r\n                                className=\"font-size-lg\"\r\n                            />\r\n                        </IconButton>\r\n                    </Box>\r\n                </div>\r\n                <CardContent className=\"p-0\">\r\n                    <div className=\"table-responsive\">\r\n                        <table className=\"table table-striped table-hover text-nowrap mb-0\">\r\n                            <thead className=\"thead-light\">\r\n                            <tr>\r\n                                <th style={{ width: '40%' }}>Customer</th>\r\n                                <th className=\"text-center\">Email</th>\r\n                                <th className=\"text-center\">Address</th>\r\n                                <th className=\"text-center\">Phone Number</th>\r\n                                <th className=\"text-center\">Actions</th>\r\n                                <th className=\"text-center\"></th>\r\n                            </tr>\r\n                            </thead>\r\n\r\n\r\n                            <tbody>\r\n\r\n                            {props.customers?.map((customer, index) => (\r\n                                <tr key={index}>\r\n                                    <td>\r\n                                        <div className=\"d-flex align-items-center\">\r\n                                            <Avatar alt=\"...\" src={process.env.REACT_APP_API_URL_UPLOADS + \"/\" + customer.img} className=\"mr-2\" />\r\n                                            <div>\r\n                                                <a\r\n                                                    href=\"#/\"\r\n                                                    onClick={e => e.preventDefault()}\r\n                                                    className=\"font-weight-bold text-black\"\r\n                                                    title=\"...\">\r\n                                                    {customer.FirstName} {customer.LastName}\r\n                                                </a>\r\n                                                     <span className=\"text-black-50 d-block\">\r\n                                                          CIN : {customer.Cin} | Username : {customer.UserName}\r\n                                                     </span>\r\n                                            </div>\r\n                                        </div>\r\n                                    </td>\r\n\r\n                                    <td className=\"text-center\">\r\n                                        <div >\r\n                                            {customer.Email}\r\n                                        </div>\r\n                                    </td>\r\n\r\n                                    <td className=\"text-center\">\r\n                                        <div >\r\n                                            {customer.Adress.Street}, {customer.Adress.City}\r\n                                        </div>\r\n                                    </td>\r\n                                    <td className=\"text-center\">\r\n                                        <div >\r\n                                            {customer.PhoneNumber}\r\n                                        </div>\r\n                                    </td>\r\n                                    <td className=\"text-center\">\r\n                                        <Button\r\n                                            size=\"small\"\r\n                                            variant=\"contained\"\r\n                                            className=\"mr-3\"\r\n                                            color=\"primary\" onClick={() => UpdateCustomer(customer) }>\r\n                                            Update\r\n                                        </Button>\r\n                                        <Button size=\"small\" variant=\"contained\" color=\"secondary\" onClick={()=> deleteCustomer(customer._id)}>\r\n                                            Delete\r\n                                        </Button>\r\n                                    </td>\r\n\r\n                                    <td className=\"text-center\">\r\n                                        <Tooltip arrow title=\"View Details\">\r\n                                            <IconButton\r\n                                                size=\"small\"\r\n                                                variant=\"outlined\"\r\n                                                color=\"primary\"\r\n                                                onClick={()=>Details(customer._id)}\r\n                                            >\r\n                                                <FontAwesomeIcon icon={['fas', 'arrow-right']} />\r\n\r\n                                            </IconButton>\r\n                                        </Tooltip>\r\n                                    </td>\r\n                                </tr>\r\n\r\n\r\n                            ))}\r\n\r\n\r\n\r\n\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                </CardContent>\r\n            </Card>\r\n\r\n        </Fragment>\r\n    );\r\n}\r\n","import React, { Fragment } from 'react';\r\n\r\nimport {ExampleWrapperSeamless, PageTitle} from '../../layout-componentsBack';\r\nimport CustomersTable from \"../../components/back/CustomersTable\";\r\nimport CustomerStat from \"../../components/back/CustomerStat\";\r\nimport {useServerApi} from \"../../hooks/useServerApi\";\r\nexport default function Customers() {\r\n    const [customers] = useServerApi(\"customers\");\r\n    return (\r\n        <Fragment>\r\n            <PageTitle\r\n                titleHeading=\"Customers\"\r\n                titleDescription=\"Wonderful animated charts built with ApexCharts components.\"\r\n            />\r\n            <ExampleWrapperSeamless sectionHeading=\"Customers Table\">\r\n                <CustomersTable customers={customers}/>\r\n                <CustomerStat customers={customers}/>\r\n            </ExampleWrapperSeamless>\r\n        </Fragment>\r\n    );\r\n}\r\n"],"sourceRoot":""}