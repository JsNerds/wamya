{"version":3,"sources":["components/back/CustomersCharts.js","components/back/CustomerStat.js","components/back/Deliveryman/Deliverymen_view.js","pages/back/Delivery_men.js"],"names":["CustomersCharts","props","series","name","data","customers","reduce","total","item","payments","length","deliveries","options","xaxis","categories","type","CustomerStat","Grid","container","spacing","xs","md","Card","className","CardContent","Divider","sectionHeading","Deliverymen_view","history","useHistory","React","useState","useServerApi","ws","console","log","Details","id","replace","deletedriver","a","queryServerApi","err","go","validateit","useEffect","dms","Box","IconButton","size","color","title","icon","onClick","style","width","map","dm","index","key","Status","Avatar","alt","src","process","img","href","_id","FullName","Username","class","Region","ds","value","parseInt","Date_birth","substring","wa","Id","rating","Phone","Button","variant","Tooltip","arrow","Delivery_men","titleHeading","titleDescription"],"mappings":"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","file":"static/js/10.c859121a.chunk.js","sourcesContent":["import React, {Fragment, useEffect} from 'react';\r\n\r\nimport Chart from 'react-apexcharts';\r\n\r\nexport default function CustomersCharts(props) {\r\n\r\n    const options = {\r\n        xaxis: {\r\n            categories: ['debut', 'Now']\r\n        }\r\n    };\r\n\r\n\r\n\r\n    function totalPayments() {\r\n        return props.customers.reduce(function(total, item) {\r\n            total += item?.payments.length;\r\n            return total;\r\n        }, 0);\r\n    }\r\n\r\n\r\n    function totalDeliveries() {\r\n        return props.customers.reduce(function(total, item) {\r\n            total += item?.deliveries.length;\r\n\r\n            return total;\r\n        }, 0);\r\n    }\r\n\r\n    let series = [\r\n        {\r\n            name: 'Payments',\r\n            data: [0,totalPayments()]\r\n        },\r\n        {\r\n            name: 'Deliveries',\r\n            data: [0,totalDeliveries()]\r\n        }\r\n\r\n    ];\r\n\r\n    return (\r\n        <Fragment>\r\n            <Chart options={options} series={series} type=\"area\" />\r\n        </Fragment>\r\n    );\r\n}\r\n","import React, {Fragment} from 'react';\r\nimport { Grid, Card, CardContent, Divider } from '@material-ui/core';\r\nimport {ExampleWrapperSimple} from \"../../layout-componentsBack\";\r\nimport ApexChartsArea from \"../../componentsBack/ApexCharts/ApexChartsArea\";\r\nimport CustomersCharts from \"./CustomersCharts\";\r\n\r\n\r\n\r\nexport default function CustomerStat(props) {\r\n    const customers = props.customers;\r\n    function totalPayments() {\r\n        return props.customers.reduce(function(total, item) {\r\n            total += item?.payments.length;\r\n\r\n            return total;\r\n        }, 0);\r\n    }\r\n\r\n    function totalDeliveries() {\r\n        return props.customers.reduce(function(total, item) {\r\n            total += item?.deliveries.length;\r\n\r\n            return total;\r\n        }, 0);\r\n    }\r\n\r\n    return (\r\n        <Fragment>\r\n\r\n            <Grid container spacing={4}>\r\n                <Grid item xs={12} md={6}>\r\n                    <Card className=\"card-box mb-4\">\r\n                        <div className=\"card-header\">\r\n                            <h4 className=\"font-size-lg mb-0 py-2 font-weight-bold\">\r\n                                Informations\r\n                            </h4>\r\n                        </div>\r\n                        <CardContent className=\"p-3\">\r\n                            <div className=\"d-flex align-items-center justify-content-between p-3\">\r\n                                <div>\r\n                                    <b>Payments</b>\r\n                                    <div className=\"text-black-50\">Number of customer's payments</div>\r\n                                </div>\r\n                                <div className=\"font-weight-bold text-danger font-size-xl\">\r\n                                    {totalPayments()}\r\n                                </div>\r\n                            </div>\r\n                            <Divider />\r\n                            <div className=\"d-flex align-items-center justify-content-between p-3\">\r\n                                <div>\r\n                                    <b>User</b>\r\n                                    <div className=\"text-black-50\">Number of customers</div>\r\n                                </div>\r\n                                <div className=\"font-weight-bold text-success font-size-xl\">\r\n                                    {props.customers?.length}\r\n                                </div>\r\n                            </div>\r\n                            <Divider />\r\n                            <div className=\"d-flex align-items-center justify-content-between p-3\">\r\n                                <div>\r\n                                    <b>Deliveries</b>\r\n                                    <div className=\"text-black-50\">\r\n                                        Number of customer's deliveries\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"font-weight-bold text-warning font-size-xl\">\r\n                                    {totalDeliveries()}\r\n                                </div>\r\n                            </div>\r\n                        </CardContent>\r\n                    </Card>\r\n                </Grid>\r\n\r\n                <Grid item xs={12} md={6}>\r\n                    <ExampleWrapperSimple sectionHeading=\"Stats\">\r\n                        <CustomersCharts customers={props.customers}/>\r\n                    </ExampleWrapperSimple>\r\n                </Grid>\r\n            </Grid>\r\n\r\n        </Fragment>\r\n    );\r\n}\r\n","import React, { Fragment, useEffect, useState } from \"react\";\r\n\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\n\r\nimport {\r\n  Avatar,\r\n  IconButton,\r\n  Box,\r\n  Card,\r\n  CardContent,\r\n  Button,\r\n  Tooltip,\r\n} from \"@material-ui/core\";\r\nimport { useServerApi } from \"../../../hooks/useServerApi\";\r\n\r\nimport { queryServerApi } from \"../../../utils/queryServerApi\";\r\nimport { useHistory } from \"react-router\";\r\n\r\nexport default function Deliverymen_view(props) {\r\n  const history = useHistory();\r\n  const [open, setOpen] = React.useState(false);\r\n  const [ws] = useServerApi(\"deliveryman/getmiles\");\r\n\r\n  console.log(ws);\r\n  const handleOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n  const Updatedm = (id) => {\r\n    history.replace(\"/Updatedm/\" + id);\r\n  };\r\n  const Details = (id) => {\r\n    history.replace(\"/DeliverymanDetails/\" + id);\r\n  };\r\n  const addnew = (id) => {\r\n    history.replace(\"/adddm\");\r\n  };\r\n\r\n  const deletedriver = async (id) => {\r\n    const [err] = await queryServerApi(\r\n      \"deliveryman/delete/\" + id,\r\n      {},\r\n      \"DELETE\"\r\n    );\r\n    if (err) {\r\n      console.log(err);\r\n    }\r\n    history.go(0);\r\n  };\r\n\r\n  const validateit = async (id) => {\r\n    const [err] = await queryServerApi(\r\n      \"deliveryman/validate/\" + id,\r\n      {},\r\n      \"POST\"\r\n    );\r\n    if (err) {\r\n      console.log(err);\r\n    }\r\n    history.go(0);\r\n  };\r\n\r\n  useEffect(() => {\r\n    console.log(props.dms);\r\n  }, [props.dms]);\r\n\r\n  return (\r\n    <Fragment>\r\n      <Card className=\"card-box mb-4\">\r\n        <div className=\"card-header\">\r\n          <div className=\"card-header--title\">\r\n            <small>Tables</small>\r\n            <b>delivery men</b>\r\n          </div>\r\n          <Box className=\"card-header--actions\">\r\n            <IconButton\r\n              size=\"small\"\r\n              color=\"primary\"\r\n              className=\"text-primary\"\r\n              title=\"View details\"\r\n            >\r\n              <FontAwesomeIcon\r\n                icon={[\"far\", \"plus-square\"]}\r\n                onClick={addnew}\r\n                className=\"font-size-lg\"\r\n              />\r\n            </IconButton>\r\n          </Box>\r\n        </div>\r\n        <CardContent className=\"p-0\">\r\n          <div className=\"table-responsive\">\r\n            <table className=\"table table-striped table-hover text-nowrap mb-0\">\r\n              <thead className=\"thead-light\">\r\n                <tr>\r\n                  <th style={{ width: \"40%\" }}>deliveryman</th>\r\n                  <th className=\"text-center\">status</th>\r\n                  <th className=\"text-center\">Region</th>\r\n                  <th className=\"text-center\">Age</th>\r\n                  <th className=\"text-center\">Rating</th>\r\n                  <th className=\"text-center\">Phone Number</th>\r\n                  <th className=\"text-center\">Actions</th>\r\n                  <th className=\"text-center\"></th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {props.dms?.map((dm, index) => (\r\n                  <tr\r\n                    key={index}\r\n                    className={dm.Status === 1 && \"table-warning\"}\r\n                  >\r\n                    <td>\r\n                      <div className=\"d-flex align-items-center\">\r\n                        <Avatar\r\n                          alt=\"...\"\r\n                          src={\r\n                            process.env.REACT_APP_API_URL_UPLOADS + \"/\" + dm.img\r\n                          }\r\n                          className=\"mr-2\"\r\n                        />\r\n                        <div>\r\n                          <a\r\n                            href=\"#/\"\r\n                            onClick={() => Details(dm._id)}\r\n                            className=\"font-weight-bold text-black\"\r\n                            title=\"...\"\r\n                          >\r\n                            {dm.FullName}\r\n                          </a>\r\n                          <span className=\"text-black-50 d-block\">\r\n                            Username : {dm.Username}\r\n                          </span>\r\n                        </div>\r\n                      </div>\r\n                    </td>\r\n                    <td className=\"text-center\">\r\n                      {dm.Status === 1 && (\r\n                        <span class=\"badge badge-first\">waiting</span>\r\n                      )}\r\n                      {dm.Status === 2 && (\r\n                        <span class=\"badge badge-danger\">Offline</span>\r\n                      )}\r\n                      {dm.Status === 3 && (\r\n                        <span class=\"badge badge-success\">Available</span>\r\n                      )}\r\n                      {dm.Status === 4 && (\r\n                        <span class=\"badge badge-warning\">Delivering</span>\r\n                      )}\r\n                      {dm.Status === 5 && (\r\n                        <span class=\"badge badge-warning\">Delivering</span>\r\n                      )}\r\n                    </td>\r\n                    <td className=\"text-center\">\r\n                      {dm.Region?.map((ds, index) => (\r\n                        <div className=\"row\" key={index}>\r\n                          <span class=\"btn-pill m-1 badge badge-info\">\r\n                            {ds.value}\r\n                          </span>\r\n                        </div>\r\n                      ))}\r\n                    </td>\r\n                    <td className=\"text-center\">\r\n                      <div>\r\n                        {2021 - parseInt(dm.Date_birth.substring(0, 4))}\r\n                      </div>\r\n                    </td>\r\n                    <td className=\"text-center\">\r\n                      <div>\r\n                        {ws?.map((wa, index) => (\r\n                          <div className=\"row\" key={index}>\r\n                            <span class=\" badge badge-primary\">\r\n                              {dm._id === wa.Id && (\r\n                                <span class=\"fa fa-star\">{wa.rating}</span>\r\n                              )}\r\n                            </span>\r\n                          </div>\r\n                        ))}\r\n                      </div>\r\n                    </td>\r\n                    <td className=\"text-center\">\r\n                      <div>{dm.Phone}</div>\r\n                    </td>\r\n                    <td className=\"text-center\">\r\n                      <Button\r\n                        size=\"small\"\r\n                        variant=\"contained\"\r\n                        className=\"mr-3\"\r\n                        color=\"primary\"\r\n                        onClick={() => Updatedm(dm._id)}\r\n                      >\r\n                        Update\r\n                      </Button>\r\n                      {dm.Status !== 5 && dm.Status !== 4 && (\r\n                        <Button\r\n                          size=\"small\"\r\n                          variant=\"contained\"\r\n                          className=\"mr-3\"\r\n                          color=\"secondary\"\r\n                          onClick={() => deletedriver(dm._id)}\r\n                        >\r\n                          Delete\r\n                        </Button>\r\n                      )}\r\n\r\n                      <Tooltip arrow title=\"View Details\">\r\n                        <IconButton\r\n                          size=\"small\"\r\n                          variant=\"outlined\"\r\n                          color=\"primary\"\r\n                          onClick={() => Details(dm._id)}\r\n                        >\r\n                          <FontAwesomeIcon icon={[\"fas\", \"arrow-right\"]} />\r\n                        </IconButton>\r\n                      </Tooltip>\r\n                      {dm.Status === 1 && (\r\n                        <Tooltip arrow title=\"Validate\">\r\n                          <IconButton\r\n                            size=\"small\"\r\n                            variant=\"outlined\"\r\n                            color=\"secondary\"\r\n                            onClick={() => validateit(dm._id)}\r\n                          >\r\n                            <FontAwesomeIcon icon={[\"fas\", \"check-square\"]} />\r\n                          </IconButton>\r\n                        </Tooltip>\r\n                      )}\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n    </Fragment>\r\n  );\r\n}\r\n","import React, { Fragment } from \"react\";\r\n\r\nimport { ExampleWrapperSeamless, PageTitle } from \"../../layout-componentsBack\";\r\nimport Deliverymendata from \"../../components/back/Deliveryman/Deliverymen_view\";\r\nimport CustomerStat from \"../../components/back/CustomerStat\";\r\nimport { useServerApi } from \"../../hooks/useServerApi\";\r\nexport default function Delivery_men() {\r\n  const [dms] = useServerApi(\"deliveryman/getdev\");\r\n\r\n  return (\r\n    <Fragment>\r\n      <PageTitle\r\n        titleHeading=\"Delivery men\"\r\n        titleDescription=\"Wonderful animated charts built with ApexCharts components.\"\r\n      />\r\n      <ExampleWrapperSeamless sectionHeading=\"Delivery men Table\">\r\n        <Deliverymendata dms={dms} />\r\n      </ExampleWrapperSeamless>\r\n    </Fragment>\r\n  );\r\n}\r\n"],"sourceRoot":""}