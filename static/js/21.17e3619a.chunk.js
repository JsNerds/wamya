(this["webpackJsonpwamya-smart-delivery"]=this["webpackJsonpwamya-smart-delivery"]||[]).push([[21],{1444:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(172),i=(a(106),a(26),a(6)),o=a.n(i),c=a(10),m=a(5),s=a(27),u=a(111),d=a(1393),h=a(1394),g=a(1387),p=a(1403),b=a(1428),v=a(1406),f=a(1380),E=a(464),y=a(32),O=a(1429),w=a(35),j=a(18),N=a(25),C=a.n(N),x=Object(E.a)((function(e){return{root:{display:"flex",flexWrap:"wrap"},margin:{margin:e.spacing(1)},withoutLabel:{marginTop:e.spacing(3)},textField:{width:200}}})),k=function(){var e=x(),t=Object(y.g)(),a=Object(n.useState)(!1),l=Object(m.a)(a,2),i=(l[0],l[1]),E=Object(n.useState)({visible:!1,message:""}),N=Object(m.a)(E,2),k=(N[0],N[1]),S=Object(n.useState)([]),F=Object(m.a)(S,2),V=(F[0],F[1],Object(n.useState)([])),A=Object(m.a)(V,2),W=A[0],L=(A[1],r.a.useState({registrationNumber:"",model:"",weightCapacity:0,trunkVolume:0,weightLeft:0,volumeLeft:0,driver:""})),T=Object(m.a)(L,2);T[0],T[1];Object(n.useEffect)((function(){_()}),[]);var _=function(){var e=Object(c.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.a.get("https://wamya-backend.herokuapp.com/deliveryman/getdev").then((function(e){var t;console.log(e.data),(null===(t=e.data)||void 0===t?void 0:t.filter((function(e){return"DeliveryManE"===e.Type}))).map((function(e){return W.push({label:e.FullName,value:e._id})}))}));case 3:e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),D=Object(w.a)({initialValues:{registrationNumber:"",model:"",driver:"",weightCapacity:0,trunkVolume:0,weightLeft:0,volumeLeft:0},onSubmit:function(){var e=Object(c.a)(o.a.mark((function e(a){var n,r,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(a),i(!1),e.next=4,Object(j.a)("vehicle/add",a,"POST",!1);case 4:n=e.sent,r=Object(m.a)(n,2),(l=r[1])?(i(!1),k({visible:!0,message:JSON.stringify(l.errors,null,2)})):t.push("/Vehicules");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()});return r.a.createElement(n.Fragment,null,r.a.createElement(d.a,{container:!0,spacing:4},r.a.createElement(d.a,{item:!0,xs:12,lg:6},r.a.createElement("form",{onSubmit:D.handleSubmit},r.a.createElement(h.a,{className:"p-4 mb-4"},r.a.createElement("div",{className:"font-size-lg font-weight-bold"},"Add vehicle"),r.a.createElement(g.a,{className:"my-4"}),r.a.createElement("div",null,r.a.createElement("div",{style:{marginBottom:"20px"},className:"ml-2"},r.a.createElement("label",{className:"f_p text_c f_400"},"Driver:"),r.a.createElement(u.a,{label:"Choose type",options:W,onChange:function(e){D.setFieldValue("driver",e.value),console.log(e.value)}})),r.a.createElement(p.a,{fullWidth:!0,className:e.margin,variant:"outlined"},r.a.createElement(b.a,{htmlFor:"outlined-adornment-registration-number"},"Registration number"),r.a.createElement(O.a,{id:"outlined-adornment-registration-number",name:"registrationNumber",onChange:D.handleChange,startAdornment:r.a.createElement(v.a,{position:"start"}),labelWidth:130})),r.a.createElement(p.a,{fullWidth:!0,className:e.margin,variant:"outlined"},r.a.createElement(b.a,{htmlFor:"outlined-adornment-model"},"Model"),r.a.createElement(O.a,{id:"outlined-adornment-model",name:"model",onChange:D.handleChange,startAdornment:r.a.createElement(v.a,{position:"start"}),labelWidth:50})),r.a.createElement(p.a,{className:Object(s.a)(e.margin),variant:"outlined"},r.a.createElement(b.a,{htmlFor:"outlined-adornment-weight"},"Weight Capacity"),r.a.createElement(O.a,{id:"outlined-adornment-weight",name:"weightCapacity",onChange:D.handleChange,endAdornment:r.a.createElement(v.a,{position:"end"},"Kg"),startAdornment:r.a.createElement(v.a,{position:"start"}),labelWidth:110})),r.a.createElement(p.a,{className:Object(s.a)(e.margin),variant:"outlined"},r.a.createElement(b.a,{htmlFor:"outlined-adornment-volume"},"Trunk Volume"),r.a.createElement(O.a,{id:"outlined-adornment-volume",name:"trunkVolume",onChange:D.handleChange,endAdornment:r.a.createElement(v.a,{position:"end"},"m\xb2"),startAdornment:r.a.createElement(v.a,{position:"start"}),labelWidth:90}))),r.a.createElement(f.a,{className:"m-2 flex-end float-right",variant:"contained",color:"primary",type:"submit"},"Add Vehicule"))))))};function S(){return r.a.createElement(n.Fragment,null,r.a.createElement(l.e,{titleHeading:"add a vehicule",titleDescription:"Specify Vehicule details"}),r.a.createElement(k,null))}a.d(t,"default",(function(){return S}))}}]);
//# sourceMappingURL=21.17e3619a.chunk.js.map