{"version":3,"sources":["components/back/VehiculeForm.js","pages/back/addVehicule.js"],"names":["useStyles","makeStyles","theme","root","display","flexWrap","margin","spacing","withoutLabel","marginTop","textField","width","LivePreviewExample","classes","history","useHistory","useState","setShowLoader","visible","message","setError","drivers","React","registrationNumber","model","weightCapacity","trunkVolume","weightLeft","volumeLeft","driver","useEffect","getDrivers","a","axios","get","then","doc","console","log","data","filter","Type","map","push","label","FullName","value","_id","error","formik","useFormik","initialValues","onSubmit","values","queryServerApi","err","JSON","stringify","errors","Grid","container","item","xs","lg","handleSubmit","Card","className","Divider","style","marginBottom","options","onChange","setFieldValue","FormControl","fullWidth","variant","InputLabel","htmlFor","OutlinedInput","id","name","handleChange","startAdornment","InputAdornment","position","labelWidth","clsx","endAdornment","Button","color","type","Vehicules","titleHeading","titleDescription","VehiculeForm"],"mappings":"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","file":"static/js/21.17e3619a.chunk.js","sourcesContent":["import React, { Fragment, useState, useEffect } from \"react\";\r\nimport clsx from \"clsx\";\r\nimport Select from \"react-select\";\r\n\r\nimport {\r\n  Grid,\r\n  Input,\r\n  InputLabel,\r\n  InputAdornment,\r\n  IconButton,\r\n  Card,\r\n  TextField,\r\n  FormControl,\r\n  FormHelperText,\r\n  Button,\r\n  Divider,\r\n} from \"@material-ui/core\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport OutlinedInput from \"@material-ui/core/OutlinedInput\";\r\nimport { useFormik } from \"formik\";\r\nimport { queryServerApi } from \"../../utils/queryServerApi\";\r\nimport axios from \"axios\";\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\",\r\n  },\r\n  margin: {\r\n    margin: theme.spacing(1),\r\n  },\r\n  withoutLabel: {\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  textField: {\r\n    width: 200,\r\n  },\r\n}));\r\n\r\nconst LivePreviewExample = () => {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n  const [showLoader, setShowLoader] = useState(false);\r\n  const [error, setError] = useState({ visible: false, message: \"\" });\r\n  const [markers, setMarkers] = useState([]);\r\n  const [drivers, setDrivers] = useState([]);\r\n\r\n  const [values, setValues] = React.useState({\r\n    registrationNumber: \"\",\r\n    model: \"\",\r\n    weightCapacity: 0,\r\n    trunkVolume: 0,\r\n    weightLeft: 0,\r\n    volumeLeft: 0,\r\n    driver: \"\",\r\n  });\r\n  useEffect(() => {\r\n    getDrivers();\r\n  }, []);\r\n  const getDrivers = async () => {\r\n    try {\r\n      const Delivery = await axios\r\n        .get(\"https://wamya-backend.herokuapp.com/deliveryman/getdev\")\r\n        .then(function(doc) {\r\n          console.log(doc.data);\r\n\r\n          let docs = doc.data?.filter((driver) => {\r\n            return driver.Type === \"DeliveryManE\";\r\n          });\r\n          docs.map((driver) =>\r\n            drivers.push({ label: driver.FullName, value: driver._id })\r\n          );\r\n        });\r\n      // set State\r\n    } catch (err) {\r\n      console.error(err.message);\r\n    }\r\n  };\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      registrationNumber: \"\",\r\n      model: \"\",\r\n      driver: \"\",\r\n      weightCapacity: 0,\r\n      trunkVolume: 0,\r\n      weightLeft: 0,\r\n      volumeLeft: 0,\r\n    },\r\n    onSubmit: async (values) => {\r\n      console.log(values);\r\n      setShowLoader(false);\r\n      const [, err] = await queryServerApi(\r\n        \"vehicle/add\",\r\n        values,\r\n        \"POST\",\r\n        false\r\n      );\r\n      if (err) {\r\n        setShowLoader(false);\r\n        setError({\r\n          visible: true,\r\n          message: JSON.stringify(err.errors, null, 2),\r\n        });\r\n      } else history.push(\"/Vehicules\");\r\n    },\r\n  });\r\n\r\n  const handleChange = (prop) => (event) => {\r\n    setValues({ ...values, [prop]: event.target.value });\r\n  };\r\n  return (\r\n    <Fragment>\r\n      <Grid container spacing={4}>\r\n        <Grid item xs={12} lg={6}>\r\n          <form onSubmit={formik.handleSubmit}>\r\n            <Card className=\"p-4 mb-4\">\r\n              <div className=\"font-size-lg font-weight-bold\">Add vehicle</div>\r\n              <Divider className=\"my-4\" />\r\n              <div>\r\n                <div style={{ marginBottom: \"20px\" }} className=\"ml-2\">\r\n                  <label className=\"f_p text_c f_400\">Driver:</label>\r\n                  <Select\r\n                    label=\"Choose type\"\r\n                    options={drivers}\r\n                    onChange={(driver) => {\r\n                      formik.setFieldValue(\"driver\", driver.value);\r\n                      console.log(driver.value);\r\n                    }}\r\n                  />\r\n                </div>\r\n                <FormControl\r\n                  fullWidth\r\n                  className={classes.margin}\r\n                  variant=\"outlined\"\r\n                >\r\n                  <InputLabel htmlFor=\"outlined-adornment-registration-number\">\r\n                    Registration number\r\n                  </InputLabel>\r\n                  <OutlinedInput\r\n                    id=\"outlined-adornment-registration-number\"\r\n                    name=\"registrationNumber\"\r\n                    onChange={formik.handleChange}\r\n                    startAdornment={\r\n                      <InputAdornment position=\"start\"></InputAdornment>\r\n                    }\r\n                    labelWidth={130}\r\n                  />\r\n                </FormControl>\r\n                <FormControl\r\n                  fullWidth\r\n                  className={classes.margin}\r\n                  variant=\"outlined\"\r\n                >\r\n                  <InputLabel htmlFor=\"outlined-adornment-model\">\r\n                    Model\r\n                  </InputLabel>\r\n                  <OutlinedInput\r\n                    id=\"outlined-adornment-model\"\r\n                    name=\"model\"\r\n                    onChange={formik.handleChange}\r\n                    startAdornment={\r\n                      <InputAdornment position=\"start\"></InputAdornment>\r\n                    }\r\n                    labelWidth={50}\r\n                  />\r\n                </FormControl>\r\n\r\n                <FormControl\r\n                  className={clsx(classes.margin)}\r\n                  variant=\"outlined\"\r\n                >\r\n                  <InputLabel htmlFor=\"outlined-adornment-weight\">\r\n                    Weight Capacity\r\n                  </InputLabel>\r\n                  <OutlinedInput\r\n                    id=\"outlined-adornment-weight\"\r\n                    name=\"weightCapacity\"\r\n                    onChange={formik.handleChange}\r\n                    endAdornment={\r\n                      <InputAdornment position=\"end\">Kg</InputAdornment>\r\n                    }\r\n                    startAdornment={\r\n                      <InputAdornment position=\"start\"></InputAdornment>\r\n                    }\r\n                    labelWidth={110}\r\n                  />\r\n                </FormControl>\r\n                <FormControl\r\n                  className={clsx(classes.margin)}\r\n                  variant=\"outlined\"\r\n                >\r\n                  <InputLabel htmlFor=\"outlined-adornment-volume\">\r\n                    Trunk Volume\r\n                  </InputLabel>\r\n                  <OutlinedInput\r\n                    id=\"outlined-adornment-volume\"\r\n                    name=\"trunkVolume\"\r\n                    onChange={formik.handleChange}\r\n                    endAdornment={\r\n                      <InputAdornment position=\"end\">m²</InputAdornment>\r\n                    }\r\n                    startAdornment={\r\n                      <InputAdornment position=\"start\"></InputAdornment>\r\n                    }\r\n                    labelWidth={90}\r\n                  />\r\n                </FormControl>\r\n              </div>\r\n              <Button\r\n                className=\"m-2 flex-end float-right\"\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                type=\"submit\"\r\n              >\r\n                Add Vehicule\r\n              </Button>\r\n            </Card>\r\n          </form>\r\n        </Grid>\r\n      </Grid>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default LivePreviewExample;\r\n","import React, { Fragment } from \"react\";\r\n\r\nimport { PageTitle } from \"../../layout-componentsBack\";\r\n\r\nimport VehiculeForm from \"../../components/back/VehiculeForm\";\r\nexport default function Vehicules() {\r\n  return (\r\n    <Fragment>\r\n      <PageTitle\r\n        titleHeading=\"add a vehicule\"\r\n        titleDescription=\"Specify Vehicule details\"\r\n      />\r\n      <VehiculeForm />\r\n    </Fragment>\r\n  );\r\n}\r\n"],"sourceRoot":""}